<!DOCTYPE HTML>

<html>
	<head>
		<title>Seozilla</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="shortcut icon" type="image/x-icon" href="images/seozilla.ico">
	</head>
	<style>

	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}
	.fadeup{
		opacity: 0;
		animation: fadeInTop 1s ease-in-out forwards;
	}
	.hero{
		display: flex;
		align-items: center;
		justify-content: center;
		margin: 0 auto;
		height: 100vh;
		width: 100%;
		overflow: hidden;
	}
	.heroimages{
		position: absolute;
		top: -20em;
		left: -15em;
		text-align: center;
		transform: rotate(45deg);
		width: 300vh;
	}
	
	.heroimages img{
		height: 300px;
		border: 5px solid white;
		border-radius: 5px;
		background-color: #fff;
		margin: 5px;
		margin-left: 10px;
		box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
		transform-origin: center;
		opacity: 0;
		animation: fadeInLeft 1s ease-in-out forwards;
	}
	@keyframes fadeInLeft {
		from {
			opacity: 0;
			transform: translateX(70px);
	}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}
	@keyframes fadeInTop{
		from {
			opacity: 0;
			transform: translatey(20px);
	}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}

	.hero h1{
		font-size: 9em;
		padding-top: 32vh;
		line-height: 1em;
		color: #a3d39c;
		margin: 0;
		font-stretch: calc(var(--fs) * 1%);
		letter-spacing: -0.5vw;
	}
	.img1{
		left: 50px;
		top:-300px;
		z-index: 1;
	}
	.img2{
		right: 50px;
		top:-300px;
	}
	.img3{
		left: 53vh;
		bottom: -200px;
	}
	.img4{
		left: 0px;
		bottom: -200px;
	}
	.img5{
		right: 0px;
		bottom: -200px;
	}
	.herocontent {
		position: absolute;
		display: block;
		width: 100%;
		height: 100vh;
		text-align: center;
		margin: 0 auto;
	}
	
	.screen{
		display: flex;
		align-items: center;
		justify-content: center;
		background-color:red;
		width: 495px;
		height: 300px;
		border-radius: 10px;
		margin-top: 50vh;
	}
	
	.website_container {
		background: white;
		border-radius: 20px;
		box-shadow: 0 20px 40px rgba(0,0,0,0.1);
		overflow: hidden;
		transition: all 0.3s ease;
		position: relative;
		border: 5px solid white;
	}

	.device-frame {
		width: 495px;
		height: 300px;
		background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
		display: flex;
		align-items: center;
		justify-content: center;
		position: relative;
		overflow: hidden;
	}

	.device-frame::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
		opacity: 0.3;
	}

	.website_content {
		padding: 20px;
		text-align: center;
		z-index: 2;
		position: relative;
	}

	.sizes {
		font-size: 2rem;
		font-weight: bold;
		color: white;
		text-shadow: 0 4px 8px rgba(0,0,0,0.3);
		text-transform: uppercase;
		letter-spacing: 3px;
		min-height: 80px;
		display: flex;
		align-items: center;
		justify-content: center;
	}


	.device-indicator {
		position: absolute;
		top: 20px;
		right: 20px;
		background: rgba(255,255,255,0.2);
		padding: 8px 16px;
		border-radius: 20px;
		color: white;
		font-size: 14px;
		font-weight: 600;
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255,255,255,0.3);
	}
		
	.socmed{
		width: 100%;
		height: 100vh;
		background-color: #fff;
	}
	
	.black{
		color: #333;
	}
	
	.bord{
		border: 1px solid #fff;
	}
	
	.space{
		padding-top: 3em;
	}
	
	.services{
		width: 100%;
		display: flex;
		justify-content: center;
		padding: 10px;
		border-radius: 20px;
		flex-direction: row;
	}
	.webdev{	
		background-color: #cbe8bc;
		z-index: 1;
	}
	.product{	
		background-color: #ffbba7;
		z-index: 2 !important;
	}
	.video{
		background-color: #78daff;
		z-index: 99 !important;
	}
	.services_container{
		
	}
	.services_content {
		padding: 2em;
	}
	
	.services_content li {
		list-style: none;
		font-size: 1em;
		text-align: left;
		position: relative;
		padding-left: 25px;
	}
	
	.services_content li::before {
		content: 'âœ“';
		position: absolute;
		left: 0;
		color: var(--card-color);
		font-weight: bold;
	}
	
	.services_content h2{
		margin-bottom:0em;
	}
	
	.services_content p{
		font-size: 1.5em;
		margin-bottom:1.5em;
	}
	.animation_container{
		min-width: 600px;
		display: flex;
		align-items: center;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		overflow: hidden:
	}
	.product_animation {
		position: relative;
		width: 495px;
		height: 300px;
		border-radius: 20px;
		overflow: hidden;
		border: 5px solid white;
		background-color: white;
		box-shadow: 0 20px 40px rgba(0,0,0,0.1);
	}
	.product_animation img{
		width: 495px;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		opacity: 0;
		transform: scale(1.1);
		border-radius: 10px;
	}
	
	.video-container {
		max-width: 495px;
		margin: 0 auto;
		position: relative;
		border-radius: 20px;
		overflow: hidden;
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
		background: #000;
		border: 5px solid white;
	}

	.video-thumbnail {
		position: relative;
		cursor: pointer;
		aspect-ratio: 16/9;
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		display: flex;
		align-items: center;
		justify-content: center;
		transition: all 0.3s ease;
	}

	.video-thumbnail:hover {
		transform: scale(1.02);
	}

	.thumbnail-image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: opacity 0.3s ease;
	}

	.play-button {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: 80px;
		height: 80px;
		background: rgba(255, 255, 255, 0.95);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
		backdrop-filter: blur(10px);
	}

	.play-button:hover {
		transform: translate(-50%, -50%) scale(1.1);
		background: rgba(255, 255, 255, 1);
		box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
	}

	.play-icon {
		width: 0;
		height: 0;
		border-left: 20px solid #333;
		border-top: 12px solid transparent;
		border-bottom: 12px solid transparent;
		margin-left: 4px;
	}

	.video-element {
		width: 100%;
		height: 100%;
		display: none;
	}

	.video-container:hover {
		transform: translateY(0);
	}
	
	.loading-spinner {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: 40px;
		height: 40px;
		border: 3px solid rgba(255, 255, 255, 0.3);
		border-top: 3px solid white;
		border-radius: 50%;
		animation: spin 1s linear infinite;
		display: none;
	}

	@keyframes spin {
		0% { transform: translate(-50%, -50%) rotate(0deg); }
		100% { transform: translate(-50%, -50%) rotate(360deg); }
	}

	.fade-in {
		animation: fadeIn 0.5s ease-in;
	}

	@keyframes fadeIn {
		from { opacity: 0; }
		to { opacity: 1; }
	}
	
	 .popup-overlay {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.5);
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		visibility: hidden;
		transition: all 0.3s ease;
		z-index: 1000;
	}

	.popup-overlay.active {
		opacity: 1;
		visibility: visible;
	}

	.popup-container {
		background: white;
		border-radius: 20px;
		padding: 40px;
		max-width: 800px;
		width: 90%;
		max-height: 95vh;
		overflow-y: auto;
		position: relative;
		transform: translateY(-100px);
		transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
		box-shadow: 0 20px 60px rgba(0,0,0,0.3);
	}

	.popup-overlay.active .popup-container {
		transform: translateY(0);
	}

	.close-btn {
		text-decoration: none;
		position: absolute;
		top: 20px;
		right: 20px;
		background: #f3f4f6;
		border: none;
		width: 50px !important;
		height: 50px !important;
		border-radius: 50%;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 20px;
		color: #6b7280;
		transition: all 0.2s ease;
	}

	.close-btn:hover {
		background: #e5e7eb;
		color: #374151;
	}

	.form-row {
		display: flex;
		gap: 15px;
		margin-bottom: 15px;
	}

	.form-group {
		flex: 1;
	}

	.form-group.full-width {
		width: 100%;
	}


	.checkbox-group {
		display: flex;
		flex-wrap: wrap;
		gap: 12px;
		margin-bottom: 20px;
	}

	.checkbox-item {
		background: #f3f4f6;
		border: 2px solid #e5e7eb;
		border-radius: 25px;
		padding: 8px 16px;
		font-size: 14px;
		cursor: pointer;
		transition: all 0.2s ease;
		user-select: none;
	}

	.checkbox-item:hover {
		border-color: #9ca3af;
	}

	.checkbox-item.selected {
		background: #f69679;
		color: white;
	}

	@media (max-width: 768px) {
		.play-button {
			width: 60px;
			height: 60px;
		}
		
		.play-icon {
			border-left-width: 15px;
			border-top-width: 9px;
			border-bottom-width: 9px;
		}
		
		.popup-container {
			padding: 30px 25px;
		}

		h1 {
			font-size: 36px;
		}

		.form-row {
			flex-direction: column;
		}

		.checkbox-group {
			gap: 8px;
		}

		.checkbox-item {
			font-size: 13px;
			padding: 6px 12px;
		}
		.services{
			flex-direction: column;
		}
		.services_content {
			padding-bottom: 0;
		}
		.services_content h2{
			font-size: 2em;
		}
		.animation_container{
			min-width: 100px !important;
			padding:  0 2em 2em 2em;
		}
		.autoplay-vid-wrapper mp4{
		}
		.autoplay-vid-wrapper{
			max-height: 200px;
		}
		.hero{
			height: 350px;
			padding:  0 2em 2em 2em;		
		}
		.product_animation {
			position: relative;
			width: 100%;
			height: 200px;
		}
        .sizes {
            font-size: 1rem;
		}
		
		.device-indicator {
			padding: 4px 8px;
		}
		
		.heroimages{
			position: absolute;
			top: 30em;
			left: -75em;
			text-align: center;
			transform: rotate(45deg);
		}
		
		.heroimages img{
			height: 200px;
			border: 5px solid white;
			border-radius: 5px;
			background-color: #fff;
			margin: 3px;
			margin-left: 6px;
			box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
			transform-origin: center;
			opacity: 0;
			animation: fadeInLeft 1s ease-in-out forwards;
		}
		.xmail{
			display: none;
			margin: 0;
			padding: 0;
		}
		.ftext{
			padding:0 0 1em 0;
		}
	}
	
	.letswork{
		background-color: #f2f5f3;
		height: 70vh;
		position: relative;
		overflow: hidden;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	
	.submit:disabled {
		background-color: #ccc;
		cursor: not-allowed;
	}
	.success-message,
	.error-message {
		text-align: center;
		padding: 20px;
		border-radius: 10px;
		margin-top: 20px;
	}
	.hidden{
		display: none;
	}
	.image-item {
		position: absolute;
		cursor: grab;
		transition: transform 0.1s ease;
		height: 50px;
	}
	.autoplay-vid-container {
		position: relative;
		width: 100%;
		max-width: 1100px;
		margin: 50px auto;
		border-radius: 15px;
		overflow: hidden;
		box-shadow: 0 20px 40px rgba(0,0,0,0.3);
		background: rgba(255,255,255,0.1);
		backdrop-filter: blur(10px);
	}

	.autoplay-vid-wrapper {
		position: relative;
		width: 100%;
		height: 650px;
	}

	.autoplay-vid-player {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: opacity 0.5s ease;
	}

	.autoplay-vid-overlay {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(0,0,0,0.7);
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		font-size: 1.2rem;
		transition: opacity 0.5s ease;
	}

	.autoplay-vid-overlay.autoplay-vid-hidden {
		opacity: 0;
		pointer-events: none;
	}

	.autoplay-vid-controls {
		position: absolute;
		top: 15px;
		right: 15px;
		display: flex;
		gap: 10px;
		z-index: 10;
	}

	.autoplay-vid-sound-btn {
		background: rgba(0,0,0,0.7);
		border: 2px solid rgba(255,255,255,0.3);
		color: white;
		width: 45px;
		height: 45px;
		border-radius: 50%;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 18px;
		transition: all 0.3s ease;
		backdrop-filter: blur(5px);
	}

	.autoplay-vid-sound-btn:hover {
		background: rgba(255,255,255,0.2);
		border-color: rgba(255,255,255,0.6);
		transform: scale(1.1);
	}

	.autoplay-vid-sound-btn.autoplay-vid-muted {
		background: rgba(220,53,69,0.8);
		border-color: rgba(220,53,69,0.6);
	}

	.autoplay-vid-play-indicator {
		background: rgba(255,255,255,0.2);
		border: 2px solid white;
		border-radius: 50%;
		width: 80px;
		height: 80px;
		display: flex;
		align-items: center;
		justify-content: center;
		margin-bottom: 20px;
		animation: autoplay-vid-pulse 2s infinite;
	}

	.autoplay-vid-play-arrow {
		width: 0;
		height: 0;
		border-left: 20px solid white;
		border-top: 12px solid transparent;
		border-bottom: 12px solid transparent;
		margin-left: 4px;
	}

	@keyframes autoplay-vid-pulse {
		0%, 100% { transform: scale(1); opacity: 0.8; }
		50% { transform: scale(1.1); opacity: 1; }
	}
	.hero a{
		text-decoration: none;
	}
	.xhide{
		display: Disable;
	}

	.success-message {
		color: #155724;
	}

	.error-message {
		color: #f69679;
	}
	.contact_us{
		z-index: 99999999;
		position: sticky;
		bottom: 0;
		width: 100%;
		text-align: center;
		
	}
	.logom{
		display: block;
		color: inherit;
		text-decoration: none;
		height: 40px;
		line-height: 44px;
		padding: 0 1em 0 1em;
		color: #888;
		color: rgba(255, 255, 255, 0.5);
		border-top: solid 2px rgba(87, 93, 89, 0.15);
		font-size: 0.8em;
	}

    </style>
	<body class="homepage is-preload">
			
    <div class="popup-overlay" id="popupOverlay" onclick="closePopup(event)">
        <div class="popup-container" onclick="event.stopPropagation()">
            <a class="close-btn" onclick="closePopup()">Ã—</a>
            
            
        <div id="hello">
            <h2>Get in touch</h2>
        </div>
		
        <form id="form" onsubmit="handleSubmit(event)">
            <div class="form-row">
                <div class="form-group">
                    <label for="fullName">Your information</label>
                    <input type="text" id="fullName" name="Full Name" placeholder="Full name" required>
                </div>
                <div class="form-group">
                    <label for="email" class="xmail" style="visibility: hidden;">Email</label>
                    <input type="email" id="email" name="Email" placeholder="Email" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group full-width">
                    <input type="text" name="Company Name" placeholder="Company name (optional)">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group full-width">
                    <textarea name="Message" placeholder="What are we creating?" required></textarea>
                </div>
            </div>

            <div class="form-group">
                <label>What can we do for you?</label>
                <div class="checkbox-group">
                    <div class="checkbox-item" onclick="toggleCheckbox(this, 'Service Type', 'Product Design')">Product Design</div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this, 'Service Type', 'Video Production')">Video Production</div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this, 'Service Type', 'Website Development')">Website Development</div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this, 'Service Type', 'Other')">Other</div>
                </div>
                <input type="hidden" name="Service Type" id="serviceType">
            </div>

            <div class="form-group">
                <label>Do you have a budget range?</label>
                <div class="checkbox-group">
                    <div class="checkbox-item" onclick="toggleRadio(this, 'budget', 'Under $500')">Under $500</div>
                    <div class="checkbox-item" onclick="toggleRadio(this, 'budget', '$500-$1k')">$500-$1k</div>
                    <div class="checkbox-item" onclick="toggleRadio(this, 'budget', '$1k-$2.5k')">$1k-$2.5k</div>
                    <div class="checkbox-item" onclick="toggleRadio(this, 'budget', '$2.5k+')">$2.5k+</div>
                </div>
                <input type="hidden" name="Budget" id="budget">
            </div>

            <div class="actions">
				<ul class="actions special">
					<li><input type="submit" name="submit" class="submit" id="submit" value="Send"></li>
				</ul>
                
            </div>
        </form>

        <div id="success" class="success-message hidden">
            <h2>Thank you!</h2>
            <p>Your message has been sent successfully. We'll get back to you soon!</p>
        </div>

        <div id="failed" class="error-message hidden">
            <h2>Oops!</h2>
            <p>Something went wrong. Please try again or contact us directly.</p>
        </div>
        </div>
    </div>

    <script>
        function openPopup() {
            document.getElementById('popupOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closePopup(event) {
            if (event && event.target !== event.currentTarget) return;
            document.getElementById('popupOverlay').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closePopup();
            }
        });
		
        let selectedServices = [];

        function toggleCheckbox(element, fieldName, value) {
            element.classList.toggle('selected');
            
            if (element.classList.contains('selected')) {
                if (!selectedServices.includes(value)) {
                    selectedServices.push(value);
                }
            } else {
                selectedServices = selectedServices.filter(service => service !== value);
            }
            
            document.getElementById('serviceType').value = selectedServices.join(', ');
        }

        function toggleRadio(element, group, value) {
            const siblings = element.parentElement.children;
            for (let sibling of siblings) {
                sibling.classList.remove('selected');
            }
            element.classList.add('selected');
            document.getElementById(group).value = value;
        }

        function handleSubmit(event) {
            event.preventDefault();
            
            const form = document.getElementById("form");
            const submitButton = document.getElementById("submit");
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzAUdVyJyXGCziUois9FB9lcGOz-6GsoTloTUdPnXvJ-YKqjkTX7aNTQnHTh0WLYqOm/exec';

            submitButton.disabled = true;
            submitButton.value = "Sending...";
            
            let requestBody = new FormData(form);
            
            // Debug: Log form data
            console.log('Form data being sent:');
            for (let [key, value] of requestBody.entries()) {
                console.log(key, ':', value);
            }
            
            fetch(scriptURL, { method: 'POST', body: requestBody})
                .then(response => response.text())
                .then(text => {
                    console.log('Server response:', text);
                    try {
                        const result = JSON.parse(text);
                        if (result.result === 'success') {
                            document.getElementById("form").style.display = "none";
                            document.getElementById("hello").style.display = "none";
                            document.getElementById("success").style.display = "block";
                        } else {
                            console.error('Server error:', result.error);
                            document.getElementById("form").style.display = "none";
                            document.getElementById("hello").style.display = "none";
                            document.getElementById("failed").style.display = "block";
                        }
                    } catch (e) {
                        console.error('Failed to parse response:', text);
                        document.getElementById("form").style.display = "none";
                        document.getElementById("hello").style.display = "none";
                        document.getElementById("failed").style.display = "block";
                    }
                    submitButton.disabled = false;
                    submitButton.value = "Send";
                })
                .catch(error => {
                    console.error('Network error:', error);
                    document.getElementById("form").style.display = "none";
                    document.getElementById("hello").style.display = "none";
                    document.getElementById("failed").style.display = "block";
                    submitButton.disabled = false;
                    submitButton.value = "Send";
                });
        }
    </script>			
				
									
  
  <script src='https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js'></script>
  <script>
 let physicsStarted = false;
let isMobile = false;
let touchStartY = 0;
let isScrolling = false;
let engine = null;
let render = null;
let imageBodies = [];
let mouseConstraint = null;
let canvasSize = {};

// Store original dimensions globally
const imageData = [
  { url: 'images/letswork/1.png', width: 405, height: 111 },
  { url: 'images/letswork/2.png', width: 600, height: 111 },
  { url: 'images/letswork/3.png', width: 458, height: 111 },
  { url: 'images/letswork/4.png', width: 458, height: 111 },
  { url: 'images/letswork/5.png', width: 300, height: 300 },
  { url: 'images/letswork/6.png', width: 150, height: 150 },
];

// Detect if device is mobile
const detectMobile = () => {
  return window.innerWidth < 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
};

const createImages = () => {
  const container = document.getElementById('letswork');
  isMobile = detectMobile();
  
  // Clear existing images to prevent duplicates
  container.innerHTML = '';
  
  imageData.forEach((imgData, index) => {
    const img = document.createElement('img');
    img.className = `image-item ${imgData.highlighted ? 'highlighted' : ''}`;
    img.src = imgData.url;
    img.alt = `Falling image ${index + 1}`;
    img.draggable = false;
    img.dataset.index = index;
    
    // Hide images initially until physics starts
    img.style.opacity = '0';
    img.style.position = 'absolute';
    img.style.touchAction = 'none';
    img.style.pointerEvents = 'auto';
    img.style.userSelect = 'none';
    
    container.appendChild(img);
  });
  updateImageSizes();
};

function updateImageSizes() {
  const images = document.querySelectorAll('#letswork .image-item');
  const scaleFactor = detectMobile() ? 0.5 : 1;
  
  images.forEach(img => {
    const index = parseInt(img.dataset.index);
    const originalData = imageData[index];
    
    img.style.width = `${originalData.width * scaleFactor}px`;
    img.style.height = `${originalData.height * scaleFactor}px`;
  });
}

// Cleanup function for physics engine
const cleanupPhysics = () => {
  if (render) {
    Matter.Render.stop(render);
    if (render.canvas) {
      render.canvas.remove();
    }
    render = null;
  }
  if (engine) {
    Matter.Engine.clear(engine);
    engine = null;
  }
  imageBodies = [];
  mouseConstraint = null;
};

const renderCanvas = () => {
  const Engine = Matter.Engine;
  const Render = Matter.Render;
  const World = Matter.World;
  const Bodies = Matter.Bodies;
  const Runner = Matter.Runner;
  
  const params = {
    isStatic: true,
    render: {
      fillStyle: "transparent"
    }
  };

  const letsworkElement = document.getElementById('letswork');
  const rect = letsworkElement.getBoundingClientRect();
  
  canvasSize = {
    width: rect.width,
    height: rect.height
  };

  engine = Engine.create({});
  engine.world.gravity.y = 0.8;

  render = Render.create({
    element: letsworkElement,
    engine: engine,
    options: {
      ...canvasSize,
      background: "transparent",
      wireframes: false,
      showDebug: false,
      showVelocity: false
    }
  });

  // Create boundaries
  const floor = Bodies.rectangle(
    canvasSize.width / 2,
    canvasSize.height - 25,
    canvasSize.width,
    50,
    params
  );

  const wall1 = Bodies.rectangle(
    25,
    canvasSize.height / 2,
    50,
    canvasSize.height,
    params
  );

  const wall2 = Bodies.rectangle(
    canvasSize.width - 25,
    canvasSize.height / 2,
    50,
    canvasSize.height,
    params
  );

  const imageElements = document.querySelectorAll(".image-item");
  imageBodies = [...imageElements].map((elemRef, index) => {
    const width = parseInt(elemRef.style.width);
    const height = parseInt(elemRef.style.height);
    
    const startX = Math.random() * (canvasSize.width - width);
    const startY = -50 - (Math.random() * 200);

    // Show images when physics starts
    elemRef.style.opacity = '1';
    elemRef.style.transition = 'opacity 0.3s ease';

    return {
      body: Bodies.rectangle(startX, startY, width, height, {
        render: {
          fillStyle: "transparent"
        },
        restitution: 0.4,
        friction: 0.3,
        frictionAir: 0.005
      }),
      elem: elemRef,
      width: width,
      height: height,
      render() {
        const { x, y } = this.body.position;
        this.elem.style.top = `${y - this.height / 2}px`;
        this.elem.style.left = `${x - this.width / 2}px`;
        this.elem.style.transform = `rotate(${this.body.angle}rad)`;
      }
    };
  });

  // Mouse/Touch interaction
  const mouse = Matter.Mouse.create(letsworkElement);
  mouseConstraint = Matter.MouseConstraint.create(engine, {
    mouse,
    constraint: {
      stiffness: 0.3,
      render: {
        visible: false
      }
    }
  });

  // Disable mouse wheel zoom
  if (mouse.element) {
    mouse.element.removeEventListener("mousewheel", mouse.mousewheel);
    mouse.element.removeEventListener("DOMMouseScroll", mouse.mousewheel);
  }

  // Add all bodies to world
  World.add(engine.world, [
    floor,
    wall1,
    wall2,
    ...imageBodies.map(item => item.body),
    mouseConstraint
  ]);

  render.mouse = mouse;
  Runner.run(engine);
  Render.run(render);

  // Animation loop
  (function rerender() {
    if (!engine) return; // Safety check
    
    imageBodies.forEach(element => {
      element.render();
      
      // Reset position if image falls below screen
      if (element.body.position.y > canvasSize.height + 100) {
        const newX = canvasSize.width / 2 + (Math.random() - 0.5) * 200;
        Matter.Body.setPosition(element.body, {
          x: newX,
          y: -50
        });
        Matter.Body.setVelocity(element.body, { x: 0, y: 0 });
        Matter.Body.setAngularVelocity(element.body, 0);
      }
      
      // Reset if image goes too far left or right
      if (element.body.position.x < -50 || element.body.position.x > canvasSize.width + 50) {
        const newX = canvasSize.width / 2 + (Math.random() - 0.5) * 200;
        Matter.Body.setPosition(element.body, {
          x: newX,
          y: -50
        });
        Matter.Body.setVelocity(element.body, { x: 0, y: 0 });
        Matter.Body.setAngularVelocity(element.body, 0);
      }
    });
    
    Matter.Engine.update(engine);
    requestAnimationFrame(rerender);
  })();
};

// Enhanced mobile-friendly interactions
const addImageInteractions = () => {
  const images = document.querySelectorAll('.image-item');
  const letsworkElement = document.getElementById('letswork');
  
  // Universal interaction handling (works for both mobile and desktop)
  let isDragging = false;
  let dragStartTime = 0;
  let dragStartPos = { x: 0, y: 0 };
  let scrollStartY = 0;
  let lastTouchY = 0;
  let isImageInteraction = false;
  
  // Handle canvas/background touch for scrolling (mobile only)
  if (isMobile) {
    const canvas = letsworkElement.querySelector('canvas');
    
    if (canvas) {
      canvas.addEventListener('touchstart', (e) => {
        if (e.target === canvas) {
          scrollStartY = e.touches[0].clientY;
          lastTouchY = scrollStartY;
          isImageInteraction = false;
        }
      }, { passive: true });
      
      canvas.addEventListener('touchmove', (e) => {
        if (e.target === canvas && !isImageInteraction) {
          const currentY = e.touches[0].clientY;
          const deltaY = lastTouchY - currentY;
          
          // Allow natural scrolling
          window.scrollBy(0, deltaY);
          lastTouchY = currentY;
        }
      }, { passive: true });
    }
  }
  
  images.forEach(img => {
    // Desktop hover effects
    if (!isMobile) {
      img.addEventListener('mouseenter', () => {
        img.style.filter = 'brightness(1.2) saturate(1.3)';
        img.style.transition = 'filter 0.2s ease';
      });
      
      img.addEventListener('mouseleave', () => {
        img.style.filter = 'brightness(1) saturate(1)';
      });
    }

    // Universal pointer down (mouse/touch start)
    const handlePointerStart = (e) => {
      isDragging = false;
      dragStartTime = Date.now();
      isImageInteraction = true;
      
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const clientY = e.touches ? e.touches[0].clientY : e.clientY;
      
      dragStartPos = { x: clientX, y: clientY };
      
      // Visual feedback
      img.style.filter = 'brightness(1.2) saturate(1.3)';
      img.style.transition = 'filter 0.1s ease, transform 0.1s ease';
      if (isMobile) {
        img.style.transform += ' scale(1.05)';
      }
    };

    // Universal pointer move
    const handlePointerMove = (e) => {
      if (dragStartTime > 0) {
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        const clientY = e.touches ? e.touches[0].clientY : e.clientY;
        
        const distance = Math.sqrt(
          Math.pow(clientX - dragStartPos.x, 2) + 
          Math.pow(clientY - dragStartPos.y, 2)
        );
        
        const threshold = isMobile ? 10 : 5;
        if (distance > threshold) {
          isDragging = true;
        }
      }
    };

    // Universal pointer end
    const handlePointerEnd = (e) => {
      const clickDuration = Date.now() - dragStartTime;
      
      // Remove visual feedback
      img.style.filter = 'brightness(1) saturate(1)';
      if (isMobile) {
        img.style.transform = img.style.transform.replace(' scale(1.05)', '');
      }
      
      // Handle click/tap if not dragging
      const maxDuration = isMobile ? 300 : 200;
      if (!isDragging && clickDuration < maxDuration) {
        // Call openPopup function
        if (typeof openPopup === 'function') {
          openPopup();
        } else {
          console.log('Image clicked/tapped!');
        }
        
        // Prevent any default behavior and event bubbling
        if (e.preventDefault) e.preventDefault();
        return false;
      }
      
      // Reset interaction state
      isDragging = false;
      dragStartTime = 0;
      isImageInteraction = false;
    };

    // Add event listeners for both touch and mouse (universal support)
    // Touch events for mobile
    img.addEventListener('touchstart', handlePointerStart, { passive: false });
    img.addEventListener('touchmove', handlePointerMove, { passive: false });
    img.addEventListener('touchend', handlePointerEnd, { passive: false });
    
    // Mouse events for desktop
    img.addEventListener('mousedown', handlePointerStart);
    img.addEventListener('mousemove', handlePointerMove);
    img.addEventListener('mouseup', handlePointerEnd);
    
    // Prevent context menu on long press
    img.addEventListener('contextmenu', (e) => {
      e.preventDefault();
    });
  });
};

// Intersection Observer to detect when .letswork comes into view
const observerOptions = {
  root: null,
  rootMargin: '0px',
  threshold: 0.3
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting && !physicsStarted) {
      physicsStarted = true;
      createImages();
      setTimeout(() => {
        renderCanvas();
        addImageInteractions();
      }, 100);
    }
  });
}, observerOptions);

// Handle window resize - only update sizes, no reloading
let resizeTimeout;
const handleResize = () => {
  if (!physicsStarted) return;
  
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(() => {
    updateImageSizes();
  }, 100);
};

window.addEventListener("DOMContentLoaded", () => {
  const letsworkElement = document.getElementById('letswork');
  if (letsworkElement) {
    observer.observe(letsworkElement);
  }
});

// Use debounced resize handler
window.addEventListener('resize', handleResize);
  </script>
							</div>
						
				</section>	

			<!-- Footer -->
				<footer id="footer">
							<div class="letswork" id="letswork">
							</div>
					<div class="container">
						<div class="row gtr-200">
							<div class="col-12">

								<!-- Contact -->
									<section>
										<div class="row">
											<div class="col-3 col-12-medium">
											<a href="index.html"><img src="images/Main Logo Black.png " /></a>
											</div>
											
											<div class="col-6 col-12-medium">
											<ul class="contact">
												<li><a class="icon brands fa-facebook-f" href="https://www.facebook.com/seozillaph/" target="_new"><span class="label">Facebook</span></a></li>
												<li><a class="icon brands fa-youtube" href="https://www.youtube.com/@SEO_ZILLA" target="_new"><span class="label">Youtube</span></a></li>
												<li><a class="icon brands fa-instagram" href="https://www.instagram.com/seo.zilla/" target="_new"><span class="label">Instagram</span></a></li>
												<li><a class="icon brands fa-linkedin-in" href="https://www.linkedin.com/company/seozilla/" target="_new"><span class="label">LinkedIn</span></a></li>
												<li><a class="icon brands fa-pinterest" href="https://ph.pinterest.com/seo_zilla/" target="_new"><span class="label">Pinterest</span></a></li>
												<li><a class="icon brands fa-tiktok" href="https://www.tiktok.com/@seo_zilla" target="_new"><span class="label">Tiktok</span></a></li>
											</ul>
											</div>
											<div class="col-3 col-12-medium ftext">
												<span>Email: va.seozilla@gmail.com</span> <br />
												<span>Mobile:  +63 945 839 8635</span>
											</div>
										</div>
									</section>

							</div>
						</div>

						<!-- Copyright 
							<div id="copyright">
								<ul class="menu">
									<li><a href="Privacy Policy.html">Privacy Policy</a></li>
									<li><a href="Cookie Policy.html">Cookie Policy</a></li>
									<li><a href="Terms of Service.html">Terms of Service</a></li>
									<li><a href="User Rights.html">User Rights</a></li>
									<li><a href="Data Protection.html">Data Protection</a></li>
								</ul>
							</div>-->

					</div>
				</footer>

		</div>

		<!-- Scripts -->
				
			
			
<script src='https://assets.codepen.io/16327/gsap-latest-beta.min.js?r=v3.12.0'></script>
<script src='https://assets.codepen.io/16327/ScrollTrigger.min.js?r=v3.12.0'></script>
			
			<script src="assets/js/jquery.min.js"></script>
			<!-- <script src="assets/js/jquery.dropotron.min.js"></script> -->
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
